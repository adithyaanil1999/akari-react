(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(59)},32:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(5),l=a(18),o=(a(32),a(3)),s=a.n(o),i=a(4),u=a(2),m=(a(36),a(0)),d=a(8),p="https://akari-backend.herokuapp.com/",b="https://manga-reader-express.herokuapp.com/",g=(a(38),function(e){var t=a(10),c=a(40),l=Object(n.useRef)(null),o=Object(n.useRef)(null),m=Object(n.useRef)(null),d=Object(n.useRef)(null),b=Object(n.useRef)(null),g=Object(n.useRef)(null),h=Object(n.useRef)(null),f=Object(n.useRef)(null),v=Object(n.useRef)(null),E=Object(n.useRef)(null),y=Object(n.useRef)(null),O=Object(n.useRef)(null),k=Object(n.useRef)(null),j=Object(n.useState)("login"),N=Object(u.a)(j,2),C=N[0],S=N[1],w=Object(n.useState)(!1),x=Object(u.a)(w,2),R=x[0],T=x[1];var L=function(){var t=Object(i.a)(s.a.mark(function t(a){var n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.stopPropagation(),!1!==R){t.next=28;break}if(T(!0),!(h.current&&f.current&&v.current)){t.next=28;break}if(n=h.current.value,r=f.current.value,0!==n.length&&0!==r.length){t.next=11;break}v.current.innerHTML="Fields cannot be empty",T(!1),t.next=28;break;case 11:if(!(n.length<6&&n.length<=36||r.length<9&&r.length>100)){t.next=16;break}v.current.innerHTML="Invalid username and password",T(!1),t.next=28;break;case 16:return v.current.innerHTML="",t.prev=17,t.next=20,fetch(p+"login",{method:"POST",headers:{"Content-type":"application/json"},credentials:"include",body:JSON.stringify({username:n,password:c(r)})});case 20:t.sent.ok?(T(!1),e.verifyTokens()):(T(!1),v.current.innerHTML="User not Found"),t.next=28;break;case 24:t.prev=24,t.t0=t.catch(17),T(!1),v.current.innerHTML="Failed to connect to server";case 28:case"end":return t.stop()}},t,null,[[17,24]])}));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=Object(i.a)(s.a.mark(function t(a){var n,r,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.stopPropagation(),!1!==R){t.next=50;break}if(T(!0),!(E.current&&y.current&&O.current&&k.current)){t.next=50;break}if(n=E.current.value,r=y.current.value,0!==n.length&&0!==r.length){t.next=11;break}k.current.innerHTML="Fields cannot be empty",T(!1),t.next=50;break;case 11:if(n.length<6||n.length<=36){t.next=16;break}k.current.innerHTML="Username must contain atleast 6 and atmost 36 characters",T(!1),t.next=50;break;case 16:if(!1!==/^[A-Za-z0-9_]*$/.test(n)){t.next=21;break}k.current.innerHTML="Username must only contain letters,numbers or underscore",T(!1),t.next=50;break;case 21:if(!(r.length<9||r.length>100)){t.next=26;break}k.current.innerHTML="Password length must be between 8 and 100",T(!1),t.next=50;break;case 26:return k.current.innerHTML="",t.prev=27,t.next=30,fetch(p+"signUp",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify({username:n,password:c(r)})});case 30:if(!(l=t.sent).ok){t.next=39;break}return T(!1),t.next=35,l.json();case 35:t.sent,e.verifyTokens(),t.next=44;break;case 39:return T(!1),t.next=42,l.json();case 42:"USER_EXISTS"===t.sent.result&&(k.current.innerHTML="Username already exists.");case 44:t.next=50;break;case 46:t.prev=46,t.t0=t.catch(27),T(!1),k.current.innerHTML="Failed to connect to server";case 50:case"end":return t.stop()}},t,null,[[27,46]])}));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){l.current&&(1==t()?l.current.addEventListener("animationend",function(){setTimeout(function(){m.current&&o.current&&(o.current.style.display="flex",m.current.style.display="flex")},100)}):m.current&&o.current&&(o.current.style.display="flex",m.current.style.display="flex"))}),r.a.createElement("div",{className:"login-wrap"},r.a.createElement("div",{className:"logo-wrap"},r.a.createElement("img",{src:"https://adithyaanil1999.github.io/akari-react//static/akari_white_icon.png"}),r.a.createElement("h1",null,"Akari")),r.a.createElement("div",{ref:l,className:"login-form-wrap"},r.a.createElement("div",{ref:o,className:"form-wrap"},r.a.createElement("div",{className:"form-inner-wrap ".concat("login"===C?"flex":"none")},r.a.createElement("input",{ref:h,className:"form-input",type:"text",placeholder:"Username"}),r.a.createElement("input",{ref:f,className:"form-input",type:"password",placeholder:"Password"}),r.a.createElement("button",{onClick:L,className:"form-btn"},r.a.createElement("span",null,"Login Into Your Account"),r.a.createElement("div",{className:"form-btn-icon-wrap"},R?r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"double-bounce1"}),r.a.createElement("div",{className:"double-bounce2"})):r.a.createElement("span",{className:"material-icons"},"arrow_forward"))),r.a.createElement("span",{ref:v,className:"form-error-message"})),r.a.createElement("div",{className:"form-inner-wrap signUp-form ".concat("login"!==C?"flex":"none")},r.a.createElement("input",{ref:E,className:"form-input",type:"text",placeholder:"Username"}),r.a.createElement("input",{ref:y,className:"form-input",type:"password",placeholder:"Password"}),r.a.createElement("input",{ref:O,className:"form-input",type:"password",placeholder:"Confirm Password"}),r.a.createElement("button",{onClick:_,className:"form-btn"},r.a.createElement("span",null,"Create Your Account"),r.a.createElement("div",{className:"form-btn-icon-wrap"},R?r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"double-bounce1"}),r.a.createElement("div",{className:"double-bounce2"})):r.a.createElement("span",{className:"material-icons"},"arrow_forward"))),r.a.createElement("span",{ref:k,className:"form-error-message"}))),r.a.createElement("div",{ref:m,className:"toggle-wrap"},r.a.createElement("div",{className:"toggle-inner-wrap"},r.a.createElement("div",{className:"slider-wrap"},r.a.createElement("div",{ref:d,className:"toggle-slider"})),r.a.createElement("div",{ref:g,onClick:function(e){e.stopPropagation(),"login"!==C&&(S("login"),d.current&&g.current&&b.current&&(d.current.style.transform="translate(0%)",d.current.style.borderTopLeftRadius="20px",d.current.style.borderBottomLeftRadius="20px",d.current.style.borderTopRightRadius="0px",d.current.style.borderBottomRightRadius="0px",g.current.style.color="black",b.current.style.color="white"))},className:"login-btn-wrap"},r.a.createElement("h3",null,"Login")),r.a.createElement("div",{ref:b,onClick:function(e){e.stopPropagation(),"signUp"!==C&&(S("signUp"),d.current&&g.current&&b.current&&(d.current.style.transform="translate(100%)",d.current.style.borderTopLeftRadius="0px",d.current.style.borderBottomLeftRadius="0px",d.current.style.borderTopRightRadius="20px",d.current.style.borderBottomRightRadius="20px",g.current.style.color="white",b.current.style.color="black"))},className:"signUp-btn-wrap"},r.a.createElement("h3",null,"Sign Up"))))))});a(43);function h(e){return{type:"ADD_ABOUT_MANGA_OBJECT",state:e}}function f(e){return{type:"ADD_DASHBOARD_OBJECT",state:e}}function v(e){return{type:"CURRENT_SRC",state:e}}function E(e){return{type:"ADD_GENRE_OBJECT",state:e}}function y(e){return{type:"ADD_GENRE_SEARCH_OBJECT",state:e}}function O(e){return{type:"UPDATE_GENRE_SEARCH_SCROLL_TICK",state:e}}function k(e){return{type:"UPDATE_GENRE_PAGE_NO",state:e}}function j(e){return{type:"UPDATE_SELECTED_GENRE",state:e}}function N(e){return{type:"UPDATE_GENRE_SORT",state:e}}var C=Object(c.b)(function(e){return e})(function(e){var t=a(10),c=Object(n.useRef)(null),l=Object(n.useRef)(null),o=Object(n.useState)(3),s=Object(u.a)(o,2),i=s[0],p=s[1],b=function(e,t){e.stopPropagation(),p(t),J.dispatch(y({})),J.dispatch(k(0)),J.dispatch(O(0)),J.dispatch(j([])),J.dispatch(N("default"))};return Object(n.useEffect)(function(){var t;0!==Object.keys(e.aboutMangaObject).length&&function(){var e=location.pathname;(e.includes("dashboard")||e.includes("history")||e.includes("genre")||e.includes("bookmarks"))&&J.dispatch(h({}))}(),t=e.getColors,c.current&&l.current&&(c.current.style.background=t.bgColor,l.current.style.background=t.secondaryBgColor),c.current&&c.current.addEventListener("touchstart",function(e){if(e instanceof MouseEvent){if(e.pageX>30&&e.pageX<window.innerWidth-30)return}else{var t=e.targetTouches[0];if(t.pageX>30&&t.pageX<window.innerWidth-30)return}e.preventDefault()}),function(){var e=location.pathname;e.includes("bookmarks")?p(1):e.includes("history")?p(2):e.includes("dashboard")?p(3):e.includes("genre")?p(4):e.includes("settings")&&p(5)}()}),r.a.createElement("div",{ref:c,className:"home-component-wrap"},r.a.createElement("div",{className:"home-container"},r.a.createElement(m.a,null)),r.a.createElement("div",{ref:l,className:"nav-bar-mobile"},r.a.createElement(d.b,{to:"/home/bookmarks",style:{color:"".concat(1===i?e.getColors.highLightAccentColor:e.getColors.accentColor)},onClick:function(e){return b(e,1)},className:"nav-item"},r.a.createElement("span",{className:"material-symbols-outlined nav-icon"},"book"),r.a.createElement("span",{className:"nav-title"},"Libary")),r.a.createElement(d.b,{to:"/home/history",style:{color:"".concat(2===i?e.getColors.highLightAccentColor:e.getColors.accentColor)},onClick:function(e){return b(e,2)},className:"nav-item"},r.a.createElement("span",{className:"material-symbols-outlined nav-icon"},"history"),r.a.createElement("span",{className:"nav-title"},"History")),r.a.createElement(d.b,{to:"/home/dashboard",style:{color:"".concat(3===i?e.getColors.highLightAccentColor:e.getColors.accentColor)},onClick:function(e){return b(e,3)},className:"nav-item"},r.a.createElement("span",{className:"material-symbols-outlined nav-icon"},"dashboard"),r.a.createElement("span",{className:"nav-title"},"Dashboard")),r.a.createElement(d.b,{to:"/home/genre",style:{color:"".concat(4===i?e.getColors.highLightAccentColor:e.getColors.accentColor)},onClick:function(e){return b(e,4)},className:"nav-item"},r.a.createElement("span",{className:"material-symbols-outlined nav-icon"},"filter_alt"),r.a.createElement("span",{className:"nav-title"},"Genre")),r.a.createElement(d.b,{to:"/home/settings",style:{color:"".concat(5===i?e.getColors.highLightAccentColor:e.getColors.accentColor)},onClick:function(e){return b(e,5)},className:"nav-item"},r.a.createElement("span",{className:"material-symbols-outlined"},"settings"),r.a.createElement("span",{className:"nav-title"},"Settings"),t()?null:r.a.createElement("div",{className:"nav-bottom-spacer"}))))});a(45);var S=Object(c.b)(function(e){return e})(function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),m=Object(u.a)(o,2),d=m[0],b=m[1],g=Object(n.useState)([]),h=Object(u.a)(g,2),f=h[0],v=h[1],E=Object(n.useState)([]),y=Object(u.a)(E,2),O=y[0],k=y[1],j=Object(n.useState)([]),N=Object(u.a)(j,2),C=N[0],S=N[1],w=Object(n.useState)(!0),x=Object(u.a)(w,2),R=x[0],T=x[1],L=Object(n.useState)(!1),_=Object(u.a)(L,2),A=_[0],I=_[1],P=Object(n.useState)([]),B=Object(u.a)(P,2),U=B[0],D=B[1],H=e.srcObject,M=Object(n.useRef)(null);Object(n.useEffect)(function(){!1===d&&(G(),b(!0))});var G=function(){var e=Object(i.a)(s.a.mark(function e(){var t,a,n,r,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"getUserBookmarks",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"}});case 2:if(!(t=e.sent)){e.next=8;break}return e.next=6,t.json();case 6:if(0===(a=e.sent).result)T(!1);else{for(n=[],r=[],c=0;c<a.result.length;c++)0===a.result[c].unread_count?n.push(a.result[c]):r.push(a.result[c]);v(a.result),k(n),S(r),T(!1)}case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"bookmark-wrap"},r.a.createElement("div",{style:{display:"".concat(R?"flex":"None")},className:"bookmark-spinner-wrap"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))),r.a.createElement("div",{style:{display:"".concat(0===f.length?"flex":"None"),color:e.getColors.highLightBgColor},className:"bookmark-empty-wrap"},r.a.createElement("h1",null,"You havent bookmarked anything, Yet.")),0!==f.length?r.a.createElement("div",{style:{display:"".concat(R?"None":"flex")},className:"bookmark-header-wrap"},r.a.createElement("h1",{style:{color:e.getColors.accentColor}}," Bookmarks"),r.a.createElement("div",{className:"bookmark-toggle-wrap"},r.a.createElement("div",{style:{background:e.getColors.secondaryBgColor},className:"bookmark-toggle"},r.a.createElement("div",{onClick:function(e){return function(e){e.stopPropagation(),l(!0!==c)}(e)},style:{background:e.getColors.accentColor,transform:"".concat(c?"translateX(100%)":"translateX(10%)")},className:"bookmark-toggle-icon-wrap"},r.a.createElement("div",{style:{color:e.getColors.highLightAccentColor}},r.a.createElement("span",{style:{display:"".concat(c?"block":"None")}},"C"),r.a.createElement("span",{style:{display:"".concat(c?"None":"block")}},"M")))))):null,r.a.createElement("div",{style:{display:"".concat(0!==f.length?"flex":"None")},className:"bookmark-search-bar-wrap"},r.a.createElement("div",{style:{background:e.getColors.secondaryBgColor,color:e.getColors.accentColor},className:"search-bar"},r.a.createElement("div",{className:"search-icon-wrap"},r.a.createElement("span",{className:"material-symbols-outlined"},"search")),r.a.createElement("div",{className:"search-input-wrap "},r.a.createElement("input",{onKeyUp:function(){if(M.current){var e=M.current.value,t=[];0!==e.length?(f.forEach(function(a){console.log(a.title.includes(e)),!0===a.title.toLowerCase().includes(e)&&(console.log(a.title),t.push(a))}),D(t),I(!0)):(D([]),I(!1))}},ref:M,type:"text",placeholder:"Search Bookmarks",className:"search-input"})))),r.a.createElement("div",{style:{display:"".concat(R?"None":"flex")},className:"bookmark-body-wrap"},A?U.map(function(t,a){return r.a.createElement("div",{key:a,className:"bookmark-item-wrap"},r.a.createElement("div",{onClick:function(){return e.openAboutPage(t.link)},style:{background:"linear-gradient(rgb(94 94 94 / 14%), rgb(4 4 4 / 96%)),url(".concat(t.thumb_link,")")},className:"bookmark-thumb-wrap"},r.a.createElement("span",{style:{color:e.getColors.accentColor}},t.title)),r.a.createElement("div",{className:"bookmark-src-title-wrap"},r.a.createElement("span",{style:{color:e.getColors.accentColor}},H[t.src].name)),r.a.createElement("div",{style:{background:e.getColors.highLightBgColor},className:"bookmark-under-counter-wrap"},r.a.createElement("span",{style:{color:e.getColors.highLightAccentColor}},t.unread_count)))}):0!==Object.keys(H).length?C.map(function(t,a){if(!1===c){if(Object.keys(H).includes(t.src)&&"manga"===H[t.src].type)return r.a.createElement("div",{key:a,className:"bookmark-item-wrap"},r.a.createElement("div",{onClick:function(){return e.openAboutPage(t.link)},style:{background:"linear-gradient(rgb(94 94 94 / 14%), rgb(4 4 4 / 96%)),url(".concat(t.thumb_link,")")},className:"bookmark-thumb-wrap"},r.a.createElement("span",{style:{color:e.getColors.accentColor}},t.title)),r.a.createElement("div",{className:"bookmark-src-title-wrap"},r.a.createElement("span",{style:{color:e.getColors.accentColor}},H[t.src].name)),r.a.createElement("div",{style:{background:e.getColors.highLightBgColor},className:"bookmark-under-counter-wrap"},r.a.createElement("span",{style:{color:e.getColors.highLightAccentColor}},t.unread_count)))}else if(Object.keys(H).includes(t.src)&&"manga"!==H[t.src].type)return r.a.createElement("div",{key:a,className:"bookmark-item-wrap"},r.a.createElement("div",{onClick:function(){return e.openAboutPage(t.link)},style:{background:"linear-gradient(rgb(94 94 94 / 14%), rgb(4 4 4 / 96%)),url(".concat(t.thumb_link,")")},className:"bookmark-thumb-wrap"},r.a.createElement("span",{style:{color:e.getColors.accentColor}},t.title)),r.a.createElement("div",{className:"bookmark-src-title-wrap"},r.a.createElement("span",{style:{color:e.getColors.accentColor}},H[t.src].name)),r.a.createElement("div",{style:{background:e.getColors.highLightBgColor},className:"bookmark-under-counter-wrap"},r.a.createElement("span",{style:{color:e.getColors.highLightAccentColor}},t.unread_count)))}):null,0!==Object.keys(H).length&&!1===A?O.map(function(t,a){if(!1===c){if(Object.keys(H).includes(t.src)&&"manga"===H[t.src].type)return r.a.createElement("div",{key:a,className:"bookmark-item-wrap"},r.a.createElement("div",{onClick:function(){return e.openAboutPage(t.link)},style:{background:"linear-gradient(rgb(94 94 94 / 14%), rgb(4 4 4 / 96%)),url(".concat(t.thumb_link,")")},className:"bookmark-thumb-wrap"},r.a.createElement("span",{style:{color:e.getColors.accentColor}},t.title)),r.a.createElement("div",{className:"bookmark-src-title-wrap"},r.a.createElement("span",{style:{color:e.getColors.accentColor}},H[t.src].name)))}else if(Object.keys(H).includes(t.src)&&"manga"!==H[t.src].type)return r.a.createElement("div",{key:a,className:"bookmark-item-wrap"},r.a.createElement("div",{onClick:function(){return e.openAboutPage(t.link)},style:{background:"linear-gradient(rgb(94 94 94 / 14%), rgb(4 4 4 / 96%)),url(".concat(t.thumb_link,")")},className:"bookmark-thumb-wrap"},r.a.createElement("span",{style:{color:e.getColors.accentColor}},t.title)),r.a.createElement("div",{className:"bookmark-src-title-wrap"},r.a.createElement("span",{style:{color:e.getColors.accentColor}},H[t.src].name)))}):null))});a(47);var w=Object(c.b)(function(e){return e})(function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),c=Object(n.useRef)(null),l=Object(n.useRef)(null),o=Object(n.useRef)(null),m=Object(n.useRef)(null),d=Object(n.useState)(!1),p=Object(u.a)(d,2),g=p[0],h=p[1],v=Object(n.useState)(!0),E=Object(u.a)(v,2),y=E[0],O=E[1],k=Object(n.useState)({}),j=Object(u.a)(k,2),N=j[0],C=j[1],S=Object(n.useState)(!1),w=Object(u.a)(S,2),x=w[0],R=w[1],T=Object(n.useState)(!1),L=Object(u.a)(T,2),_=L[0],A=L[1],I=Object(n.useState)([]),P=Object(u.a)(I,2),B=P[0],U=P[1],D=function(e){e?a.current&&a.current.classList.add("isFocused"):a.current&&a.current.classList.remove("isFocused")},H=function(){c.current&&!0===g&&(c.current.classList.remove("slideDownSearch"),c.current.classList.add("slideUpSearch"),c.current.addEventListener("animationend",function e(){c.current&&!0===g&&(c.current.style.display="none",c.current.classList.remove("slideUpSearch"),D(!1),h(!1),A(!1),c.current.removeEventListener("animationend",e))}))},M=function(){var e=Object(i.a)(s.a.mark(function e(t){var a,n,r,l,o,i,u=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:1,e.next=3,fetch(b+"search",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({title:t,maxItems:a,type:"manga"})});case 3:if(!(n=e.sent).ok){e.next=9;break}return e.next=7,n.json();case 7:(r=e.sent)&&(l=0,o=[],r.searchArray.forEach(function(e){!1===o.includes(e.src)&&(o.push(e.src),l++)}),i=0===l?"26":5*l>=80?"80":String(30*l),console.log(r.searchArray),c.current&&(c.current.style.height=i+"vh"),U(r.searchArray),A(!0));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),G=function(){var t=Object(i.a)(s.a.mark(function t(){var a,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(b+"dashboardItems",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({src:e.currentSrc,skipChapterBool:!0})});case 2:if(!(a=t.sent).ok){t.next=8;break}return t.next=6,a.json();case 6:(n=t.sent)&&(O(!1),C(n),J.dispatch(f(n)),setTimeout(function(){l.current&&(l.current.style.backgroundImage="linear-gradient(rgb(94 94 94 / 14%), rgb(28 28 28 / 74%)),url(".concat(n.featuredItemInfo.thumb,")"))},10));case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){var t;t=e.getColors,o.current&&a.current&&m.current&&c.current&&(o.current.style.color=t.accentColor,a.current.style.background=t.secondaryBgColor,c.current.style.background=t.secondaryBgColor,m.current.style.background=t.secondaryBgColor),!0===y&&0!==e.currentSrc.length&&(0!==Object.keys(e.dashBoardObject).length?(C(e.dashBoardObject),O(!1),setTimeout(function(){l.current&&(l.current.style.backgroundImage="linear-gradient(rgb(94 94 94 / 14%), rgb(28 28 28 / 74%)),url(".concat(e.dashBoardObject.featuredItemInfo.thumb,")"))},10)):G())}),r.a.createElement("div",{ref:o,className:"dashboard-wrap"},g?r.a.createElement("div",{className:"dash-blur"}):null,r.a.createElement("div",{className:"search-wrap"},r.a.createElement("div",{onTransitionEnd:function(){!0===g&&c.current&&(c.current.style.display="flex",c.current.classList.add("slideDownSearch"))},ref:a,className:"search-bar"},r.a.createElement("div",{className:"search-icon-wrap"},r.a.createElement("span",{className:"material-symbols-outlined"},"search")),r.a.createElement("div",{className:"search-input-wrap "},r.a.createElement("input",{ref:t,onKeyUp:function(e){return function(e){if(t.current&&c.current){var a=t.current.value;"Enter"===e.key?(t.current.blur(),c.current.style.height="80vh",c.current.style.transition="height 0.5s",R(!0),M(a,20)):(c.current.style.height="5vh",R(!1)),a.length>0?(D(!0),h(!0)):(t.current.blur(),R(!1),H())}}(e)},type:"text",placeholder:"Search",className:"search-input"}))),r.a.createElement("div",{ref:c,className:"search-body"},r.a.createElement("div",{style:{display:"".concat(x?"flex":"None")},className:"search-body-inner-wrap"},r.a.createElement("div",{style:{display:"".concat(_?"None":"flex")},className:"search-loader-wrap"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))),r.a.createElement("div",{style:{display:"".concat(_?"flex":"None")},className:"search-items-wrap"},0!==B.length?Object.keys(e.srcObject).map(function(t,a){return console.log(t),r.a.createElement("div",{key:a,className:"search-items-row-wrap"},r.a.createElement("div",{className:"searchItem-header-wrap"},r.a.createElement("span",null,e.srcObject[t].name)),r.a.createElement("div",{className:"search-carousel-wrap"},B.map(function(a,n){if(a.src===t)return r.a.createElement("div",{key:n,className:"search-item-wrap"},r.a.createElement("div",{onClick:function(){return e.openAboutPage(a.link)},style:{background:"linear-gradient(rgba(94, 94, 94, 0.14), rgba(4, 4, 4, 0.96)),url(".concat(a.thumb,")")},className:"search-thumb-wrap"},r.a.createElement("span",null,a.title.length<30?a.title:a.title.slice(0,30)+"...")))})))}):r.a.createElement("div",{className:"search-empty"},r.a.createElement("h3",null,"We found nothing matching the title!")))),r.a.createElement("div",{style:{display:"".concat(x?"flex":"None")},className:"search-bottom-menu-wrap"},r.a.createElement("button",{onClick:function(){t.current&&c.current&&(c.current.style.height="5vh",t.current.value="",t.current.blur(),R(!1),setTimeout(function(){return H()},500))},style:{color:e.getColors.accentColor,background:e.getColors.highLightBgColor},className:"close-search"},r.a.createElement("span",null,"Close"))))),r.a.createElement("div",{className:"dashboard-inner-wrap"},r.a.createElement("p",{className:"dashboard-header"},"Featured"),r.a.createElement("div",{ref:m,className:"featured-wrap"},y?r.a.createElement("div",{className:"dash-loader-wrap"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))):r.a.createElement("div",{className:"featured-item"},r.a.createElement("div",{className:"featured-thumb-wrap"},r.a.createElement("div",{ref:l,className:"featured-thumb"})),r.a.createElement("div",{className:"featured-content-wrap"},r.a.createElement("p",{className:"feature-title"},N.featuredItemInfo.title),r.a.createElement("p",{className:"feature-desc"},N.featuredItemInfo.desc),r.a.createElement("button",{onClick:function(){return e.openAboutPage(N.featuredItemInfo.link)},className:"featured-btn"},"Read Now"),r.a.createElement("div",{className:"featured-bottom-margin"})))),r.a.createElement("p",{className:"dashboard-header"},"Trending"),r.a.createElement("div",{className:"carousel-wrap"},y?r.a.createElement("div",{className:"dash-loader-wrap"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))):r.a.createElement("div",{className:"carousel-inner-wrap"},N.TrendingItems.map(function(t,a){return r.a.createElement("div",{onClick:function(){return e.openAboutPage(t.link)},key:a,className:"carousel-items"},r.a.createElement("div",{style:{background:"url(".concat(t.thumb,")")},className:"carousel-thumb"}),r.a.createElement("div",{className:"carousel-title"},t.title.length<30?t.title:t.title.slice(0,30)+".."))}))),r.a.createElement("p",{className:"dashboard-header"},"New Updates"),r.a.createElement("div",{className:"carousel-wrap"},y?r.a.createElement("div",{className:"dash-loader-wrap"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))):r.a.createElement("div",{className:"carousel-inner-wrap"},N.newUpdates.map(function(t,a){return r.a.createElement("div",{onClick:function(){return e.openAboutPage(t.link)},key:a,className:"carousel-items"},r.a.createElement("div",{style:{background:"url(".concat(t.thumb,")")},className:"carousel-thumb"}),r.a.createElement("div",{className:"carousel-title"},t.title.length<30?t.title:t.title.slice(0,30)+".."))}))),r.a.createElement("p",{className:"dashboard-header"},"Popular"),r.a.createElement("div",{className:"carousel-wrap"},y?r.a.createElement("div",{className:"dash-loader-wrap"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))):r.a.createElement("div",{className:"carousel-inner-wrap"},N.popularItems.map(function(t,a){return r.a.createElement("div",{onClick:function(){return e.openAboutPage(t.link)},key:a,className:"carousel-items"},r.a.createElement("div",{style:{background:"url(".concat(t.thumb,")")},className:"carousel-thumb"}),r.a.createElement("div",{className:"carousel-title"},t.title.length<30?t.title:t.title.slice(0,30)+".."))}))),r.a.createElement("div",{className:"dashboard-bottom-margin"})))});a(49);var x=Object(c.b)(function(e){return e})(function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),m=Object(u.a)(o,2),d=m[0],b=m[1],g=function(){var t=Object(i.a)(s.a.mark(function t(a){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.stopPropagation(),l(!0),!1!==c){t.next=7;break}return t.next=5,fetch(p+"logout",{method:"GET",credentials:"include",headers:{"Content-type":"application/json"}});case 5:t.sent&&(l(!0),e.verifyTokens());case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(s.a.mark(function e(t,a){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),b(!0),e.next=4,fetch(p+"changeSrc",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify({src:a})});case 4:e.sent.ok&&(b(!1),J.dispatch(y({})),J.dispatch(k(0)),J.dispatch(y({})),J.dispatch(E({})),J.dispatch(O(0)),J.dispatch(j([])),J.dispatch(N("default")),J.dispatch(f({})),J.dispatch(v(a)));case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){}),d?r.a.createElement("div",{className:"settings-loader-wrap"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))):r.a.createElement("div",{className:"settings-wrap"},r.a.createElement("div",{style:{color:e.getColors.accentColor},className:"settings-header-wrap"},r.a.createElement("h1",null,"Settings")),r.a.createElement("div",{className:"settings-body-wrap"},r.a.createElement("div",{className:"setting-body"},r.a.createElement("div",{style:{background:e.getColors.secondaryBgColor,color:e.getColors.accentColor},className:"settings-item-wrap"},r.a.createElement("div",{className:"settings-item-header-wrap"},r.a.createElement("span",null,"Source")),r.a.createElement("div",{style:{background:e.getColors.highLightBgColor,color:e.getColors.highLightAccentColor},className:"settings-item-body"},0!==Object.keys(e.srcObject).length?Object.keys(e.srcObject).map(function(t,a){return r.a.createElement("div",{onClick:function(e){return h(e,t)},key:a,className:"settings-source-item-wrap"},r.a.createElement("span",null,"[","manga"===e.srcObject[t].type?"MANGA":"COMIC","] ",e.srcObject[t].name),t===e.currentSrc?r.a.createElement("span",{className:"material-symbols-outlined"},"check"):null)}):null))),r.a.createElement("div",{className:"logout-wrap"},r.a.createElement("button",{onClick:g,className:"logoutBtn"},r.a.createElement("span",{className:"logoutSpan"},"Logout"),r.a.createElement("div",{className:"logoutBtnSpinner"},c?r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"double-bounce1"}),r.a.createElement("div",{className:"double-bounce2"})):r.a.createElement("span",{className:"material-icons"},"arrow_forward"))))))});a(51);var R=Object(c.b)(function(e){return e})(function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(!1),c=Object(u.a)(a,2),l=c[0],o=c[1],m=Object(n.useState)(!0),d=Object(u.a)(m,2),b=d[0],g=d[1],h=Object(n.useState)([]),f=Object(u.a)(h,2),v=f[0],E=f[1];Object(n.useEffect)(function(){k(),!1===l&&(y(),o(!0))});var y=function(){var e=Object(i.a)(s.a.mark(function e(){var t,a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"getUserHistory",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"}});case 2:if(!(t=e.sent)){e.next=8;break}return e.next=6,t.json();case 6:0===(a=e.sent).result?g(!1):(g(!1),n=O(a.result),E(n));case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),O=function(e){for(var t,a,n=function(e,t,a){var n=e[t];return e[t]=e[a],e[a]=n,e},r=0;r<e.length;r++)for(var c=0;c<e.length;c++)!0===(t=e[r].time_difference,a=e[c].time_difference,t!==a&&(void 0===t.hours||void 0!==a.hours)&&(void 0!==a.hours&&void 0===t.hours||!(t.hours>a.hours)&&(a.hours>t.hours||void 0!==t.minutes&&void 0===a.minutes||void 0!==a.minutes&&void 0===t.minutes||!(t.minutes>a.minutes)&&(a.minutes>t.minutes||!(!t.seconds||void 0!==a.seconds)||!(!a.seconds||void 0!==t.seconds)||!(t.seconds>a.seconds)&&(a.seconds>t.seconds||void 0!==t.milliseconds&&void 0===a.milliseconds||void 0!==a.milliseconds&&void 0===t.milliseconds||!(t.milliseconds>=a.milliseconds)&&(a.milliseconds>=t.milliseconds||void 0))))))&&n(e,c,r);return e},k=function(){t.current&&(t.current.style.color=e.getColors.highLightBgColor)};return r.a.createElement("div",{ref:t,className:"history-container"},b?r.a.createElement("div",{className:"history-loader-wrap"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))):0===v.length?r.a.createElement("div",{className:"history-show-empty"},r.a.createElement("h1",null,"You haven't read anything, yet.")):r.a.createElement("div",{className:"history-wrap"},r.a.createElement("div",{style:{display:"".concat(v.length>0)?"flex":"None"},className:"history-header-wrap"},r.a.createElement("h1",{style:{color:e.getColors.accentColor}},"History")),r.a.createElement("div",{style:{display:"".concat(v.length>0)?"block":"None"},className:"history-body-wrap"},0!==Object.keys(e.srcObject).length?v.map(function(t,a){return console.log(t),r.a.createElement("div",{onClick:function(){return e.openAboutPage(t.link)},style:{background:e.getColors.secondaryBgColor},key:a,className:"user-history-wrap"},r.a.createElement("div",{className:"history-thumb-wrap"},r.a.createElement("img",{src:t.thumb_link})),r.a.createElement("div",{className:"history-info-wrap"},r.a.createElement("span",{style:{fontWeight:"900",width:"96%",textAlign:"start",marginTop:"8%",marginLeft:"4%",fontSize:"1.2rem",color:e.getColors.accentColor}},t.title.length<=30?t.title:t.title.slice(0,30)+".."),r.a.createElement("span",{style:{width:"100%",textAlign:"start",marginTop:"5%",marginLeft:"4%",fontSize:"1rem",color:e.getColors.accentColor}},e.srcObject[t.src].name),r.a.createElement("span",{style:{width:"100%",textAlign:"end",position:"absolute",top:"70%",left:"-15%",fontSize:"1rem",color:e.getColors.accentColor}},t.time_difference.hours?t.time_difference.hours+" hours ago":t.time_difference.minutes?t.time_difference.minutes+" minutes ago":t.time_difference.seconds?t.time_difference.seconds+" seconds ago":null)))}):null)))}),T=a(14);a(53);var L=Object(c.b)(function(e){return e})(function(e){var t=Object(n.useState)("Genres"),a=Object(u.a)(t,2),c=a[0],l=(a[1],Object(n.useState)(!1)),o=Object(u.a)(l,2),m=o[0],d=o[1],p=Object(n.useState)({}),g=Object(u.a)(p,2),h=g[0],f=g[1],v=Object(n.useState)({}),C=Object(u.a)(v,2),S=C[0],w=C[1],x=Object(n.useState)(!0),R=Object(u.a)(x,2),L=R[0],_=R[1],A=Object(n.useState)(!1),I=Object(u.a)(A,2),P=I[0],B=I[1],U=Object(n.useState)([]),D=Object(u.a)(U,2),H=D[0],M=D[1],G=Object(n.useState)(!1),F=Object(u.a)(G,2),V=F[0],z=F[1],Y=Object(n.useState)(-1),K=Object(u.a)(Y,2),W=K[0],X=K[1],Z=Object(n.useState)(-1),$=Object(u.a)(Z,2),q=$[0],Q=$[1],ee=Object(n.useState)(1),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ce=Object(u.a)(re,2),le=ce[0],oe=ce[1],se=Object(n.useState)("default"),ie=Object(u.a)(se,2),ue=ie[0],me=ie[1],de=Object(n.useRef)(null),pe=Object(n.useRef)(null),be=function(){var t=Object(i.a)(s.a.mark(function t(){var a,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(b+"getGenres",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({src:e.currentSrc})});case 2:if(!(a=t.sent).ok){t.next=8;break}return t.next=6,a.json();case 6:(n=t.sent)&&(J.dispatch(E(n.genreList)),f(n.genreList),_(!1));case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),ge=function(){var t=Object(i.a)(s.a.mark(function t(a){var n,r,c,l,o=arguments;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:1,null!==a&&a.stopPropagation(),1==n&&_(!0),t.next=5,fetch(b+"genreManga",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({src:e.currentSrc,page:n,genreArray:H,sort:ue})});case 5:if(!(r=t.sent).ok){t.next=11;break}return t.next=9,r.json();case 9:(c=t.sent)&&(z(!1),1==n?(console.log(c),J.dispatch(y(c.result)),w(c.result),B(!0),_(!1)):"END"!==c.result.resultList?((l=S).resultList=l.resultList.concat(c.result.resultList),J.dispatch(y(l)),w(l)):(J.dispatch(k(n-1)),oe(!0)));case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),he=function(e){var t,a=!1;return H.forEach(function(n){n.title===e&&(a=!0,t=n.include)}),!!a&&[!0,t]};return Object(n.useEffect)(function(){!1===m&&0!==e.currentSrc.length&&0!==Object.keys(e.srcObject).length&&(me(e.srcObject[e.currentSrc].defaultSort),J.dispatch(N(e.srcObject[e.currentSrc].defaultSort)),0!==Object.keys(e.genreObject).length?(f(e.genreObject),_(!1),0!==Object.keys(e.genreSearchObject).length&&(setTimeout(function(){return de.current?de.current.scrollTo({top:e.genreSearchTick,behavior:"smooth"}):null},100),w(e.genreSearchObject),B(!0),M(e.selectedGenreArray),ne(e.genrePageNo),me(e.genreSort))):be(),d(!0))}),r.a.createElement("div",{className:"genre-container"},r.a.createElement("div",{style:{color:e.getColors.accentColor},className:"genre-header-wrap"},r.a.createElement("h1",{style:{display:"".concat(P||L?"None":"Block")}},c),r.a.createElement("div",{style:{display:"".concat(P?"flex":"None")},className:"genre-back-wrap"},r.a.createElement("div",{onClick:function(e){return function(e){console.log("back"),e.stopPropagation(),de.current&&de.current.scrollTo({top:0}),J.dispatch(y({})),J.dispatch(k(0)),J.dispatch(O(0)),J.dispatch(j([])),J.dispatch(N("default")),B(!1),M([]),me("default")}(e)},style:{color:e.getColors.accentColor,background:e.getColors.secondaryBgColor},className:"genre-back-btn"},r.a.createElement("span",{className:"material-symbols-outlined"},"chevron_left"))),P&&S.sorts.length>0?r.a.createElement("div",{className:"genre-sorts-container"},r.a.createElement("select",{ref:pe,defaultValue:String(ue),onChange:function(){pe.current&&(me(pe.current.value),J.dispatch(N(pe.current.value)),J.dispatch(k(1)),ne(1),ge(null,1))},style:{background:e.getColors.secondaryBgColor,color:e.getColors.accentColor},className:"sort-selector"},S.sorts.map(function(e,t){return r.a.createElement("option",{key:t,value:"".concat(e)},e)}))):null),r.a.createElement("div",{className:"genre-body-container"},L?r.a.createElement("div",{className:"genre-loader-wrap"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))):r.a.createElement("div",{className:"genre-body"},P?r.a.createElement("div",{ref:de,onScroll:function(e){return function(e){var t=e.target,a=Math.floor(t.scrollHeight-t.clientHeight-1);if(J.dispatch(O(t.scrollTop)),W<t.scrollTop&&t.scrollTop>=a-1&&t.scrollTop<=a+1&&!1===V&&t.scrollTop>q)if(Q(t.scrollTop),z(!0),!1===le){var n=parseInt(String(ae))+1;J.dispatch(k(n)),ne(n),ge(null,n)}else z(!1);X(t.scrollTop)}(e)},className:"genre-search-body"},"END"!==S.resultList?S.resultList.map(function(t,a){return r.a.createElement("div",{onClick:function(){return e.openAboutPage(t.link)},key:a,className:"genre-search-item-wrap"},r.a.createElement("div",{style:{color:e.getColors.accentColor,background:"linear-gradient(rgb(94 94 94 / 14%), rgb(4 4 4)),url(".concat(t.thumb,")")},className:"genre-item-thumb"},r.a.createElement("span",null,t.title)))}):null,r.a.createElement("div",{style:{color:e.getColors.secondaryBgColor},className:"genre-search-bottom-wrap"},V?r.a.createElement("div",{className:"genre-scroll-bottom-loader-wrap"},r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{style:{background:e.getColors.accentColor},className:"double-bounce1"}),r.a.createElement("div",{style:{background:e.getColors.accentColor},className:"double-bounce2"}))):r.a.createElement("h2",null,"You have reached the end!"))):r.a.createElement("div",{className:"genre-menu-body"},r.a.createElement("div",{style:{color:e.getColors.accentColor},className:"genre-menu-wrap"},0!==Object.keys(h).length?h.map(function(t,a){var n=he(t.title);return r.a.createElement("div",{onClick:function(a){return function(t,a,n){t.stopPropagation();var r=e.srcObject[e.currentSrc].simpleGenreSelect;if(!1===r||void 0===r){var c=Object(T.a)(H),l=!1;c=c.filter(function(e){return e.title!==a||(l=!0,!0===e.include?(e.include=!1,!0):!1!==e.include&&void 0)}),l||c.push({title:a,include:!0,link:n}),M(c),J.dispatch(j(c))}else M([{title:a,include:!0,link:n}]),J.dispatch(j([{title:a,include:!0,link:n}]))}(a,t.title,t.link)},style:{background:e.getColors.highLightBgColor,border:"".concat(!1===he(t.title)?"None":"".concat(!0===n[1]?"solid #80c480 2px":"solid #d86666 2px"))},key:a,className:"genre-selector-wrap"},r.a.createElement("span",null,t.title))}):null),r.a.createElement("div",{className:"genre-menu-bottom-wrap"},r.a.createElement("div",{style:{color:e.getColors.accentColor},className:"genre-selected-carousel"},H.map(function(t,a){var n=he(t.title);return r.a.createElement("div",{onClick:function(e){return function(e,t){e.stopPropagation();var a=Object(T.a)(H);a=a.filter(function(e){return e.title!==t}),M(a)}(e,t.title)},style:{background:e.getColors.highLightBgColor,marginLeft:"".concat(0===a?"10%":"2%"),border:"".concat(!1===he(t.title)?"None":"".concat(!0===n[1]?"solid #80c480 2px":"solid #d86666 2px"))},key:a,className:"genre-carousel-item"},r.a.createElement("span",null,t.title),r.a.createElement("span",{className:"material-symbols-outlined genre-remove-span"},"close"))})),r.a.createElement("div",{className:"genre-btn-wrap"},r.a.createElement("button",{onClick:function(e){return ge(e)},style:{display:"".concat(0!==H.length?"flex":"None"),background:e.getColors.highLightBgColor,color:e.getColors.highLightAccentColor},className:"genre-filter-btn"},r.a.createElement("span",{className:"material-symbols-outlined"},"search"))))))))});a(55);var _=Object(c.b)(function(e){return e})(function(e){var t=Object(m.f)(),c=a(10),l=Object(m.g)(),o=Object(d.d)(),g=Object(u.a)(o,2),f=g[0],v=(g[1],Object(n.useState)({})),E=Object(u.a)(v,2),y=E[0],O=E[1],k=Object(n.useState)(!0),j=Object(u.a)(k,2),N=j[0],C=j[1],S=Object(n.useState)(!1),w=Object(u.a)(S,2),x=w[0],R=w[1],T=Object(n.useState)({}),L=Object(u.a)(T,2),_=L[0],A=L[1],I=Object(n.useState)(!1),P=Object(u.a)(I,2),B=P[0],U=P[1],D=Object(n.useState)(!1),H=Object(u.a)(D,2),M=H[0],G=H[1],F=Object(n.useState)({}),V=Object(u.a)(F,2),z=V[0],Y=V[1],K=Object(n.useRef)(null),W=Object(n.useRef)(null),X=Object(n.useRef)(null),Z=Object(n.useRef)(null),$=Object(n.useRef)(null),q=Object(n.useRef)(null),Q=Object(n.useRef)(null),ee=(Object(n.useRef)(null),Object(n.useRef)(null),Object(n.useRef)(null));Object(n.useEffect)(function(){A(t.state),ce(_),x&&0!==e.currentSrc.length&&0!==Object.keys(e.aboutMangaObject).length&&!1===B&&(te(),U(!0)),0!==Object.keys(e.aboutMangaObject).length&&!1===x?(O(e.aboutMangaObject),R(!0),C(!1)):(!1===x&&(le(decodeURIComponent(String(f.get("link")))),R(!0)),0!==Object.keys(_).length&&0!==Object.keys(y).length&&C(!1))});var te=function(){var e=Object(i.a)(s.a.mark(function e(){var t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"getUserData",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify({title:y.title,src:ne()})});case 2:if(!(t=e.sent)){e.next=9;break}return e.next=6,t.json();case 6:a=e.sent,Y(a.result),G(!0);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(i.a)(s.a.mark(function e(t,a,n){var r,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,fetch(p+"addToHistory",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify({title:y.title,src:ne(),link:decodeURIComponent(String(f.get("link"))),thumbLink:y.thumb,chapterIndex:y.chapterList.length-n-1})});case 3:if(!(r=e.sent).ok){e.next=11;break}return e.next=7,r.json();case 7:e.sent,0!==a.length&&(c=Object(d.c)({link:encodeURIComponent(a),mangaLink:decodeURIComponent(String(f.get("link"))),currentChapterIndex:String(n)}).toString(),l(a="read?"+c,{state:{colorObj:_.colorObj}})),e.next=12;break;case 11:alert("ERROR ADDING MANGA TO HISTORY");case 12:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),ne=function(){var t=decodeURIComponent(String(f.get("link"))),a="";return Object.keys(e.srcObject).forEach(function(n){var r=e.srcObject[n].domain;t.includes(r)&&(a=n)}),a},re=function(){var e=Object(i.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),G(!1),a={title:y.title,src:ne(),link:decodeURIComponent(String(f.get("link"))),thumbLink:y.thumb},e.next=5,fetch(p+"addToBookmarks",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(a)});case 5:e.sent.ok&&te();case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ce=function(e){!0===M&&0!==Object.keys(z).length&&Q.current&&q.current&&("YES"===z.isBookmarked?(q.current.style.background=e.colorObj.highLightBgColor,q.current.style.color=e.colorObj.highLightAccentColor):(q.current.style.background=e.colorObj.secondaryBgColor,q.current.style.color=e.colorObj.accentColor),Q.current.style.background=e.colorObj.secondaryBgColor,Q.current.style.color=e.colorObj.accentColor),K.current&&W.current&&$.current&&X.current&&Z.current&&(K.current.style.background="url(".concat(y.thumb,")"),W.current.style.background="url(".concat(y.thumb,")"),X.current.style.color=e.colorObj.accentColor,X.current.style.background=e.colorObj.secondaryBgColor+"8a",Z.current.style.color=e.colorObj.accentColor,$.current.style.background=e.colorObj.bgColor)},le=function(){var e=Object(i.a)(s.a.mark(function e(t){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b+"getMangaInfo",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({url:t})});case 2:if(!(a=e.sent).ok){e.next=9;break}return e.next=6,a.json();case 6:n=e.sent,O(n.mangaInfo),J.dispatch(h(n.mangaInfo));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"about-manga-wrapper"},c()?r.a.createElement("div",{className:"about-manga-mobile-outer-container"},N?r.a.createElement("div",{className:"about-manga-loader-wrap"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))):r.a.createElement("div",{ref:Z,className:"about-manga-mobile-inner-container"},r.a.createElement("div",{ref:K,className:"background-about"},r.a.createElement("div",{className:"blur-bg"})),r.a.createElement("div",{className:"about-manga-top-container"},r.a.createElement("div",{className:"about-manga-top-bar"},r.a.createElement("button",{onClick:function(e){return function(e){e.stopPropagation(),J.dispatch(h({})),l(-1)}(e)},ref:X,className:"about-top-bar-btn"},r.a.createElement("span",{className:"material-symbols-outlined"},"chevron_left"))),r.a.createElement("div",{ref:W,className:"about-thumb"})),r.a.createElement("div",{ref:$,className:"about-manga-bottom-container"},r.a.createElement("p",{className:"about-manga-title"},y.title),""!==y.author?r.a.createElement("p",{className:"about-manga-author"},"By ",y.author):null,r.a.createElement("p",{className:"about-manga-status"},"ongoing"===y.status.toLowerCase()?String.fromCodePoint(128994):String.fromCodePoint(9989),String.fromCodePoint(160)+String.fromCodePoint(160),y.status),r.a.createElement("div",{className:"about-manga-option-wrap"},M?r.a.createElement("div",{className:"about-manga-option-inner-wrap"},r.a.createElement("button",{onClick:function(e){return re(e)},ref:q,className:"about-manga-bookmark"},r.a.createElement("span",{className:"material-symbols-outlined"},"bookmark")),r.a.createElement("button",{onClick:function(e){return ae(e,y.chapterList[y.chapterList.length-z.chapterIndex-1].chapterLink,z.chapterIndex)},ref:Q,className:"about-manga-read-button"},0===z.chapterIndex?"Start":"Read: "+y.chapterList[y.chapterList.length-z.chapterIndex-1].chapterTitle)):r.a.createElement("div",{ref:ee,className:"about-manga-option-spinner-wrap"},r.a.createElement("div",{className:"bookmark-spinner"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))))),r.a.createElement("p",{className:"about-manga-header"},"Synopsis"),r.a.createElement("p",{className:"about-manga-synopsis"},y.desc),r.a.createElement("p",{className:"about-manga-header"},"Chapters"),r.a.createElement("div",{className:"about-manga-chapter-wrap"},B&&M?y.chapterList.map(function(e,t){if(void 0!==e)return r.a.createElement("div",{onClick:function(a){return ae(a,e.chapterLink,t)},key:t,style:{background:z.chapterIndex===y.chapterList.length-t-1?_.colorObj.highLightBgColor:_.colorObj.secondaryBgColor},className:"about-manga-chapter-item-wrap"},r.a.createElement("span",{className:"about-manga-chapter-title"},e.chapterTitle),r.a.createElement("span",{className:"about-manga-chapter-date"},e.chapterDate));console.log(e)}):r.a.createElement("div",{className:"chapter-full-loader"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))),r.a.createElement("div",{className:"about-manga-bottom-margin"})))):null)}),A=(a(57),a(20));var I=Object(c.b)(function(e){return e})(function(e){var t=Object(d.d)(),a=Object(u.a)(t,2),c=a[0],l=(a[1],Object(m.f)()),o=Object(m.g)(),g=new A.a,f=Object(n.useState)([]),v=Object(u.a)(f,2),E=v[0],y=v[1],O=Object(n.useState)(0),k=Object(u.a)(O,2),j=k[0],N=k[1],C=Object(n.useState)([]),S=Object(u.a)(C,2),w=(S[0],S[1],Object(n.useState)(!1)),x=Object(u.a)(w,2),R=x[0],T=x[1],L=Object(n.useState)(!1),_=Object(u.a)(L,2),I=_[0],P=_[1],B=Object(n.useState)({}),U=Object(u.a)(B,2),D=U[0],H=U[1],M=Object(n.useState)(!1),G=Object(u.a)(M,2),F=G[0],V=G[1],z=Object(n.useState)(-1),Y=Object(u.a)(z,2),K=Y[0],W=Y[1],X=Object(n.useState)("87%"),Z=Object(u.a)(X,2),$=Z[0],q=Z[1],Q=Object(n.useState)("2%"),ee=Object(u.a)(Q,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(u.a)(ne,2),ce=re[0],le=re[1],oe=Object(n.useState)({}),se=Object(u.a)(oe,2),ie=se[0],ue=se[1],me=Object(n.useState)(!1),de=Object(u.a)(me,2),pe=de[0],be=de[1],ge=Object(n.useState)(!1),he=Object(u.a)(ge,2),fe=he[0],ve=he[1],Ee=Object(n.useState)(-1),ye=Object(u.a)(Ee,2),Oe=ye[0],ke=ye[1],je=Object(n.useState)(!1),Ne=Object(u.a)(je,2),Ce=Ne[0],Se=Ne[1],we=Object(n.useState)(!0),xe=Object(u.a)(we,2),Re=xe[0],Te=xe[1],Le=Object(n.useState)(0),_e=Object(u.a)(Le,2),Ae=_e[0],Ie=_e[1],Pe=Object(n.useRef)([]),Be=Object(n.useRef)(null),Ue=Object(n.useRef)(null),De=Object(n.useRef)(null),He=function(e){return new Promise(function(e){return setTimeout(e,5)})};Object(n.useEffect)(function(){if(H(l.state),!1===pe?0===Object.keys(e.aboutMangaObject).length?!1===fe&&(ve(!0),Xe()):(ue(e.aboutMangaObject),be(!0)):!1===Ce&&!1===R&&(Se(!0),T(!0),Me(decodeURIComponent(String(c.get("link"))))),!1===ce){var t=g.get("scrollType");void 0===t?(g.set("scrollType","Horizontal",{path:"/"}),V(!1)):"Vertical"===t?(g.set("scrollType","Vertical",{path:"/"}),V(!0)):"Horizontal"===t&&(g.set("scrollType","Horizontal",{path:"/"}),V(!1)),le(!0)}!1===F&&We("start"),0!==Object.keys(D).length&&Je()});var Me=function(){var e=Object(i.a)(s.a.mark(function e(t){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return N(0),e.next=3,fetch(b+"getImageList",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({url:t})});case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:n=e.sent,T(!0),console.log(n),"error"===n.message?(alert("Something went wrong"),o(-1)):Ge(n.imageList);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(i.a)(s.a.mark(function e(t){var a,n,r,c,l,o,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(e){return console.log(e.length),new Promise(function(t,a){!function e(n,r){if(r<n.length){var c=new Image;c.src=n[r],n[r]=c,n[r].onload=function(){e(n,++r)},n[r].onerror=function(e){return a(e)}}else t(n)}(e,0)})},console.log(t.length),!(t.length>5)){e.next=15;break}return console.log("sectional loading"),n=t.slice(0,5),r=t.slice(5,t.length),e.next=8,a(n);case 8:return c=e.sent,e.next=11,a(r);case 11:l=e.sent,c&&(console.log("img arr 1 loaded"),y(c),N(c.length),P(!0),l&&(console.log("img arr 2 loaded"),o=c.concat(l),y(o),N(o.length))),e.next=19;break;case 15:return e.next=17,a(t);case 17:(i=e.sent)&&(y(i),N(i.length),!I&&P(!0));case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Je=function(){Ue.current&&(Ue.current.style.display="flex",Ue.current.style.background=D.colorObj.secondaryBgColor+"d6",Ue.current.style.color=D.colorObj.accentColor),De.current&&(De.current.style.display="flex",De.current.style.background=D.colorObj.secondaryBgColor+"d6",De.current.style.color=D.colorObj.highLightAccentColor)},Fe=function(){var t=decodeURIComponent(String(c.get("link"))),a="";return Object.keys(e.srcObject).forEach(function(n){var r=e.srcObject[n].domain;t.includes(r)&&(a=n)}),a},Ve=function(){var t=Object(i.a)(s.a.mark(function t(a){var n,r,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==a&&a.stopPropagation(),Ie(0),n=e.aboutMangaObject.chapterList,-1===Oe&&(ke(parseInt(decodeURIComponent(String(c.get("currentChapterIndex"))))),Oe=parseInt(decodeURIComponent(String(c.get("currentChapterIndex"))))),!((r=parseInt(String(Oe)))-1<0)){t.next=9;break}o(-1),t.next=15;break;case 9:return P(!1),l={title:ie.title,src:Fe(),link:decodeURIComponent(String(c.get("mangaLink"))),thumbLink:ie.thumb,chapterIndex:ie.chapterList.length-r},t.next=13,fetch(p+"addToHistory",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(l)});case 13:t.sent&&(ke(r-1),Me(n[r-1].chapterLink));case 15:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),ze=function(){var t=Object(i.a)(s.a.mark(function t(a){var n,r,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==a&&a.stopPropagation(),n=e.aboutMangaObject.chapterList,-1===Oe&&(ke(parseInt(decodeURIComponent(String(c.get("currentChapterIndex"))))),Oe=parseInt(decodeURIComponent(String(c.get("currentChapterIndex"))))),r=parseInt(String(Oe)),!(ie.chapterList.length-(r+2)<0)){t.next=8;break}o(-1),t.next=14;break;case 8:return P(!1),l={title:ie.title,src:Fe(),link:decodeURIComponent(String(c.get("mangaLink"))),thumbLink:ie.thumb,chapterIndex:ie.chapterList.length-(r+2)},t.next=12,fetch(p+"addToHistory",{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify(l)});case 12:t.sent&&(ke(r+1),Me(n[r+1].chapterLink));case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Ye=function(e,t){if(e.stopPropagation(),"VERTICAL"===t)g.set("scrollType","Vertical",{path:"/"}),V(!0);else{g.set("scrollType","Horizontal",{path:"/"});for(var a=parseInt(String(j)),n=0;n<a;n++)Pe.current.pop();V(!1)}},Ke=function(){var e=Object(i.a)(s.a.mark(function e(t){var a,n,r,c,l,o,i,u,m,d,p,b,g,h,f,v,E;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(e){return 4==e.length?parseInt(e.slice(0,3)):3==e.length?parseInt(e.slice(0,2)):parseInt(e.slice(0,1))},!F){e.next=46;break}if(n=t.target,r=n.scrollTop,K<r?(Ue.current&&(c=a(String($)))<=100&&(l=String(c+1)+"%",Ue.current.style.top=l,q(l)),De.current&&(o=a(String(te)))>-9&&(i=String(o-1)+"%",De.current.style.top=i,ae(i))):(Ue.current&&(u=a(String($)))>=87&&(m=String(u-1)+"%",Ue.current.style.top=m,q(m)),De.current&&(d=a(String(te)))<6&&(p=String(d+1)+"%",De.current.style.top=p,ae(p))),W(r),0!==r){e.next=28;break}Te(!0),b=6,g=a(String(te));case 12:if(!De.current){e.next=24;break}if(!(g<b)){e.next=23;break}return g++,h=String(g)+"%",De.current.style.top=h,ae(h),e.next=21,He();case 21:e.next=24;break;case 23:return e.abrupt("break",26);case 24:e.next=12;break;case 26:e.next=46;break;case 28:if(r!==n.scrollHeight-n.clientHeight){e.next=46;break}Te(!1),f=2,v=a(String(te));case 32:if(!De.current){e.next=44;break}if(!(v<f)){e.next=43;break}return v++,E=String(v)+"%",De.current.style.top=E,ae(E),e.next=41,He();case 41:e.next=44;break;case 43:return e.abrupt("break",46);case 44:e.next=32;break;case 46:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(i.a)(s.a.mark(function e(t){var a,n,r,c,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=parseInt(String(j)),"start"===t)for(n=0;n<a;n++)(r=Pe.current[n])&&(r.style.display=0!==n?"none":"flex");else"right"===t?Be.current&&((c=parseInt(String(Ae)))<parseInt(String(j))-1?Ie(c+1):Ve(null)):"left"===t&&Be.current&&((l=parseInt(String(Ae)))>=1?Ie(l-1):ze(null));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(i.a)(s.a.mark(function e(){var t,a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=decodeURIComponent(String(c.get("mangaLink"))),e.next=3,fetch(b+"getMangaInfo",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({url:t})});case 3:if(!(a=e.sent).ok){e.next=14;break}return e.next=7,a.json();case 7:(n=e.sent)&&console.log("About manga loaded"),J.dispatch(h(n.mangaInfo)),Me(decodeURIComponent(String(c.get("link")))),ue(n.mangaInfo),be(!0),Se(!0);case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"reader-outer-wrap"},F&&I&&0!==Object.keys(D).length?r.a.createElement("div",{ref:De,className:"reader-top-menu-wrap"},r.a.createElement("span",{onClick:function(e){return ze(e)},style:{display:"".concat(Re?"flex":"None")},className:"reader-chapter-span-prev"},r.a.createElement("span",{className:"material-symbols-outlined"},"keyboard_backspace"),"Previous Chapter"),r.a.createElement("span",{onClick:function(e){return Ve(e)},style:{display:"".concat(Re?"None":"flex")},className:"reader-chapter-span-next"},"Next Chapter",r.a.createElement("span",{className:"material-symbols-outlined"},"arrow_right_alt"))):null,r.a.createElement("div",{style:{display:"".concat(I&&0!==Object.keys(D).length?"none":"flex"),opacity:"".concat(I?"0":"1")},className:"reader-fullscreen-loader"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))),r.a.createElement("div",{onScroll:function(e){return Ke(e)},style:{opacity:"".concat(I?"1":"0")},className:"reader-main-wrap"},F?E.map(function(e,t){return r.a.createElement("img",{key:t,src:e.src})}):r.a.createElement("div",{className:"reader-image-carousel-wrap"},r.a.createElement("div",{className:"reader-carousel-img-wrap"},r.a.createElement("div",{className:"touch-control-reader"},r.a.createElement("div",{onClick:function(){return We("left")},className:"touch-control-left"}),r.a.createElement("div",{onClick:function(){return We("right")},className:"touch-control-right"})),0!==j?r.a.createElement("img",{ref:Be,src:E[parseInt(String(Ae))].src}):null))),I&&0!==Object.keys(D).length?r.a.createElement("div",{ref:Ue,className:"reader-bottom-menu-wrap"},r.a.createElement("span",{onClick:function(e){return function(e){e.stopPropagation(),o(-1)}(e)},className:"material-symbols-outlined"},"arrow_back_ios"),r.a.createElement("span",{onClick:function(e){return Ye(e,"VERTICAL")},style:{color:"".concat(F?D.colorObj.highLightAccentColor:D.colorObj.accentColor)},className:"material-symbols-outlined"},"view_agenda"),r.a.createElement("span",{onClick:function(e){return Ye(e,"HORIZONTAL")},style:{color:"".concat(F?D.colorObj.accentColor:D.colorObj.highLightAccentColor)},className:"material-symbols-outlined"},"view_week")):null)}),P=a(10),B=a.n(P);var U=Object(c.b)(function(e){return e})(function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!0),o=Object(u.a)(l,2),h=o[0],f=o[1],E=Object(n.useState)(!1),y=Object(u.a)(E,2),O=y[0],k=y[1],j=Object(n.useState)(!1),N=Object(u.a)(j,2),T=N[0],A=N[1],P=Object(n.useState)(!1),U=Object(u.a)(P,2),D=U[0],H=U[1],M=Object(n.useState)(!1),G=Object(u.a)(M,2),F=G[0],V=G[1],z=Object(n.useState)("#21343e"),Y=Object(u.a)(z,2),K=Y[0],W=(Y[1],Object(n.useState)("#2f444d")),X=Object(u.a)(W,2),Z=X[0],$=(X[1],Object(n.useState)("#32606a")),q=Object(u.a)($,2),Q=q[0],ee=(q[1],Object(n.useState)("#6dc7ae")),te=Object(u.a)(ee,2),ae=te[0],ne=(te[1],Object(n.useState)("#54fff7")),re=Object(u.a)(ne,2),ce=re[0],le=(re[1],Object(n.useState)("")),oe=Object(u.a)(le,2),se=(oe[0],oe[1],{bgColor:K,secondaryBgColor:Z,highLightBgColor:Q,accentColor:ae,highLightAccentColor:ce}),ie=Object(m.g)(),ue=Object(m.f)(),me=Object(n.useRef)(null),de=function(e){if(0!==e.length){var t=Object(d.c)({link:encodeURIComponent(e)}).toString();ie(e="home/manga?"+t,{state:{colorObj:se}})}},pe=function(){var e=Object(i.a)(s.a.mark(function e(){var t,a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p+"getSrc",{method:"POST",credentials:"include"});case 2:if(!(t=e.sent).ok){e.next=14;break}return e.next=6,t.json();case 6:return a=e.sent,J.dispatch(v(a.result.src)),e.next=10,be();case 10:(n=e.sent)&&(H(!0),J.dispatch({type:"ADD_SRC_OBJECT",state:n})),e.next=15;break;case 14:console.log("ERROR_SETTING_SRC");case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(i.a)(s.a.mark(function e(){var t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b+"sourceList",{method:"GET"});case 2:if(!(t=e.sent).ok){e.next=10;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:console.log("ERROR_SETTING_SRC_OBJECT");case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(i.a)(s.a.mark(function e(){var t,a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return!1===O&&f(!0),e.prev=1,e.next=4,fetch(p+"verifyToken",{method:"GET",credentials:"include"});case 4:if(!(t=e.sent)){e.next=12;break}return e.next=8,t.json();case 8:(a=e.sent)&&(f(!1),k(!0)),"REFRESH_TOKEN_INVALID"===(n=a.result)?(f(!1),c(!1)):"ACCESS_TOKEN_REFRESH"===n?(console.log("Silent Refresh"),f(!1)):"NO_TOKENS_FOUND"===n?c(!1):"USERNAME_FOUND"===n&&(document.cookie="username=".concat(a.username),c(!0));case 12:e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),k(!0),f(!1);case 19:case"end":return e.stop()}},e,null,[[1,14]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){console.log(ue.pathname),!1===O?ge():(!0===a?!1===T?(pe(),A(!0)):ue.pathname.includes("/home")||ie(String("https://adithyaanil1999.github.io/akari-react/")+"/home/dashboard",{replace:!0}):"https://adithyaanil1999.github.io/akari-react/"!==ue.pathname&&ie(String("https://adithyaanil1999.github.io/akari-react/"),{replace:!0}),!1===F&&(setInterval(function(){return ge()},6e5),V(!0)))}),r.a.createElement("div",{className:"App scroll-fix"},B()()?null:r.a.createElement("div",{className:"showUnderDev"},r.a.createElement("img",{src:"https://www.fas10.in/wp-content/uploads/2021/04/underdevelpoment.png",alt:""})),h&&D?r.a.createElement("div",{ref:me,style:{background:String(K)},className:"full-screen-loading"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))):null,r.a.createElement(m.d,null,!1===a?r.a.createElement(m.b,{path:"https://adithyaanil1999.github.io/akari-react/",element:r.a.createElement(g,{isLoginVerified:O,verifyTokens:ge})}):r.a.createElement(m.b,{path:"https://adithyaanil1999.github.io/akari-react//home/*",element:r.a.createElement(C,{getColors:se,isLoginVerified:O,verifyTokens:ge})},r.a.createElement(m.b,{path:"bookmarks",element:r.a.createElement(S,{openAboutPage:de,getColors:se})}),r.a.createElement(m.b,{path:"genre",element:r.a.createElement(L,{openAboutPage:de,getColors:se})}),r.a.createElement(m.b,{path:"dashboard",element:r.a.createElement(w,{openAboutPage:de,getColors:se})}),r.a.createElement(m.b,{path:"settings",element:r.a.createElement(x,{getColors:se,verifyTokens:ge})}),r.a.createElement(m.b,{path:"history",element:r.a.createElement(R,{openAboutPage:de,getColors:se})}),r.a.createElement(m.b,{path:"manga",element:r.a.createElement(_,null)}),r.a.createElement(m.b,{path:"manga/read",element:r.a.createElement(I,null)}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,61)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)})},H=a(11);var M=Object(H.combineReducers)({aboutMangaObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ABOUT_MANGA_OBJECT":return t.state;default:return e}},dashBoardObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DASHBOARD_OBJECT":return t.state;default:return e}},srcObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SRC_OBJECT":return t.state;default:return e}},currentSrc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_SRC":return t.state;default:return e}},genreObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_GENRE_OBJECT":return t.state;default:return e}},genreSort:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_GENRE_SORT":return t.state;default:return e}},genreSearchObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_GENRE_SEARCH_OBJECT":return t.state;default:return e}},genreSearchTick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_GENRE_SEARCH_SCROLL_TICK":return t.state;default:return e}},genrePageNo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_GENRE_PAGE_NO":return t.state;default:return e}},selectedGenreArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SELECTED_GENRE":return t.state;default:return e}}}),G=a(19);a.d(t,"store",function(){return J});var J=Object(H.createStore)(M,{},Object(G.composeWithDevTools)()),F=document.getElementById("root");Object(l.createRoot)(F).render(r.a.createElement(d.a,{basename:"https://adithyaanil1999.github.io/akari-react/"},r.a.createElement(c.a,{store:J},r.a.createElement(U,null)),",")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)}),D()}},[[21,3,2]]]);
//# sourceMappingURL=main.750e2455.chunk.js.map